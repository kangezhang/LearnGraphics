# é€šç”¨å¯è§†åŒ–å¹³å° - æ¶æ„è®¾è®¡æ–¹æ¡ˆ

> **ç›®æ ‡**ï¼šæ„å»ºä¸€ä¸ªè·¨é¢†åŸŸçš„çŸ¥è¯†è¿‡ç¨‹å¯è§†åŒ–å¹³å°ï¼Œè®© AI å’Œç”¨æˆ·é€šè¿‡å£°æ˜å¼ DSL åˆ›å»ºå¯è§†åŒ–è¯¾ç¨‹

---

## ğŸ“Š é¡¹ç›®å®šä½

### æ ¸å¿ƒæ„¿æ™¯
ä¸€ä¸ªåŸºäº Web çš„**é€šç”¨"çŸ¥è¯†è¿‡ç¨‹å¯è§†åŒ–å¹³å°"**ï¼Œæ”¯æŒï¼š
- è·¨é¢†åŸŸï¼šå›¾å½¢å­¦/æ•°å­¦/ç‰©ç†/ç®—æ³•/ML/ç³»ç»Ÿæ¶æ„ç­‰
- å¤šè§†å›¾è”åŠ¨ï¼š3D Viewã€Graph Viewã€Inspector/Plot View
- è¿‡ç¨‹æ¼”ç¤ºï¼šstepã€çŠ¶æ€æœºã€è¿ç»­åŠ¨ç”»
- æ—¶é—´è½´ç¼–è¾‘å™¨ï¼škeyframe/event/step/stateã€markersã€clips
- **å£°æ˜å¼ DSL**ï¼šå¯ç”± AI è‡ªåŠ¨ç”Ÿæˆ/ä¿®æ”¹ï¼ˆpatchï¼‰

### æˆåŠŸæ ‡å‡†
1. æ–°å¢ lessonï¼š**åªå†™ DSL æ–‡ä»¶**å³å¯è¿è¡Œï¼ˆæ— éœ€ Three.jsã€æ— éœ€åæ ‡ï¼‰
2. æ—¶é—´çº¿ç¼–è¾‘å™¨å¯æ‹–æ‹½å…³é”®å¸§/markerï¼Œç«‹åˆ»æ”¹å˜æ¼”ç¤ºèŠ‚å¥ï¼Œå¹¶èƒ½ä¿å­˜å› DSL
3. è‡³å°‘ 5 ä¸ªè·¨é¢†åŸŸç¤ºä¾‹è¯¾ï¼šå‡ ä½•ï¼ˆç‚¹ç§¯æŠ•å½±ï¼‰+ å›¾ç®—æ³•ï¼ˆBFSï¼‰+ æ•°å€¼ï¼ˆæ¢¯åº¦ä¸‹é™ï¼‰+ ç³»ç»Ÿï¼ˆDAG è°ƒåº¦ï¼‰+ å›¾å½¢å­¦ï¼ˆRay ç›¸äº¤ï¼‰
4. DSL é”™è¯¯ä¸å´©æºƒï¼šå‡ºç°**è¯­ä¹‰çº§é”™è¯¯æç¤º**ï¼ˆé¢å‘ AI/ä½œè€…ï¼‰

---

## ğŸ¯ æ¶æ„è®¾è®¡åŸåˆ™

### æ ¸å¿ƒåŸåˆ™
1. **ä¸‰å±‚åˆ†ç¦»**ï¼šExecutionï¼ˆè¿è¡Œå±‚ï¼‰/ Semanticï¼ˆè¯­ä¹‰å±‚ï¼‰/ Authoringï¼ˆåˆ›ä½œå±‚ï¼‰
2. **å£°æ˜å¼ä¼˜å…ˆ**ï¼šLesson åªå†™ DSLï¼Œä¸å†™ Three.js ä»£ç 
3. **è¯­ä¹‰é”šç‚¹**ï¼šç¦æ­¢ç¡¬ç¼–ç åæ ‡ï¼Œä½¿ç”¨ `camera`ã€`center`ã€`intersection(ray, plane)` ç­‰
4. **ç§¯æœ¨åŒ–**ï¼šé€šç”¨å®ä½“/å…³ç³»/è¿‡ç¨‹/åœº/è§†å›¾ç§¯æœ¨ï¼Œè·¨é¢†åŸŸå¤ç”¨
5. **AI å‹å¥½**ï¼šDSL å¯è§£æã€å¯éªŒè¯ã€å¯ patchã€é”™è¯¯å¯è¯»

---

## ğŸ—ï¸ ä¸‰å±‚æ¶æ„ + ç¼–è¾‘å™¨

### æ¶æ„å…¨æ™¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Layer 3: Authoringï¼ˆåˆ›ä½œå±‚ï¼‰                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Lesson DSL  â”‚  â”‚  DSL Schema  â”‚  â”‚  Patch System (AI)   â”‚  â”‚
â”‚  â”‚  (JSON/YAML) â”‚  â”‚  + Validator â”‚  â”‚  (å¢é‡ä¿®æ”¹)           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“ parse & compile
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Layer 2: Semantic Runtimeï¼ˆè¯­ä¹‰å±‚ï¼‰              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Semantic Graph: Entities / Relations / Process          â”‚  â”‚
â”‚  â”‚  - Anchors: camera, center, intersection(ray, plane)     â”‚  â”‚
â”‚  â”‚  - Bindings: è¯­ä¹‰å¯¹è±¡ â†’ è§†å›¾å¯¹è±¡                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ViewManager â”‚  â”‚  Timeline    â”‚  â”‚  Process Engine      â”‚  â”‚
â”‚  â”‚  (å¤šè§†å›¾è”åŠ¨) â”‚  â”‚  Runtime     â”‚  â”‚  (BFS/GD/RayTrace)   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“ render & update
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Layer 1: Executionï¼ˆè¿è¡Œå±‚ï¼‰                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  3D View     â”‚  â”‚  Graph View  â”‚  â”‚  Inspector/Plot View â”‚  â”‚
â”‚  â”‚  (Three.js)  â”‚  â”‚  (Canvas/SVG)â”‚  â”‚  (è¡¨æ ¼/æ›²çº¿)          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Gizmos/Overlays: Arrow/Label/Measure/Field/Trajectory   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Renderer    â”‚  â”‚  Input       â”‚  â”‚  Assets              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“ â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Timeline Editorï¼ˆè½¨é“ç¼–è¾‘å™¨ï¼‰                  â”‚
â”‚  Tracks: Property/Event/Step/State + Markers + Clips           â”‚
â”‚  å¯æ‹–æ‹½å…³é”®å¸§ã€ä¿å­˜å› DSL                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æµï¼ˆç¼–è¯‘å™¨ç®¡é“ï¼‰

```
DSL æ–‡ä»¶
  â†“ parse
Semantic Graph (entities/relations/process/views/timeline)
  â†“ validate (è¯­ä¹‰æ£€æŸ¥)
Resolved Graph (é”šç‚¹è§£æã€ä¾èµ–æ£€æŸ¥)
  â†“ build bindings
Runtime Objects (views + timeline + process)
  â†“ execute
æ¸²æŸ“ + äº¤äº’ + æ—¶é—´è½´æ’­æ”¾
```

---

## ğŸ§© ç§¯æœ¨ç³»ç»Ÿï¼ˆå¹³å°æ ¸å¿ƒèµ„äº§ï¼‰

> ç§¯æœ¨ä¸æ˜¯"æ•ˆæœ"ï¼Œè€Œæ˜¯**è¡¨è¾¾èƒ½åŠ›**ï¼šå¯¹è±¡/å…³ç³»/è¿‡ç¨‹/åœº/è§†å›¾

### A. é€šç”¨å®ä½“ç§¯æœ¨ï¼ˆè·¨å­¦ç§‘ï¼‰

| ç§¯æœ¨ | ç”¨é€” | ç¤ºä¾‹åœºæ™¯ |
|------|------|---------|
| **Node** | å›¾èŠ‚ç‚¹ | BFS/DFSã€DAG è°ƒåº¦ |
| **Edge** | å›¾è¾¹ | ä¾èµ–å…³ç³»ã€è·¯å¾„ |
| **Point** | 3D ç‚¹ | å‡ ä½•ã€åæ ‡ç³» |
| **Line** | çº¿æ®µ | æŠ•å½±ã€è·¯å¾„ |
| **Arrow** | å‘é‡ç®­å¤´ | å‘é‡ã€åŠ›ã€æ¢¯åº¦ |
| **Label** | æ–‡æœ¬æ ‡ç­¾ | æ³¨é‡Šã€æ•°å€¼æ˜¾ç¤º |
| **Marker** | æ ‡è®°ç‚¹ | å…³é”®ä½ç½®ã€äº¤ç‚¹ |
| **Badge** | æ•°å€¼å°æ ‡ç­¾ | å®æ—¶æ•°å€¼ã€çŠ¶æ€ |
| **Handle** | å¯æ‹–æ§ä»¶ | äº¤äº’å¼å‚æ•°è°ƒæ•´ |

### B. é€šç”¨å…³ç³»ç§¯æœ¨ï¼ˆç†è§£å‘ç”Ÿçš„åœ°æ–¹ï¼‰

| ç§¯æœ¨ | ç”¨é€” | ç¤ºä¾‹åœºæ™¯ |
|------|------|---------|
| **MeasureDistance** | è·ç¦»æµ‹é‡ | å‡ ä½•ã€ç‰©ç† |
| **MeasureAngle** | è§’åº¦æµ‹é‡ | å‘é‡å¤¹è§’ã€æ—‹è½¬ |
| **ProjectionHelper** | æŠ•å½±çº¿/å‚è¶³ | ç‚¹ç§¯ã€æ­£äº¤åˆ†è§£ |
| **IntersectionMarker** | äº¤ç‚¹æ ‡è®° | å°„çº¿ç›¸äº¤ã€ç¢°æ’ |
| **ConstraintEdge** | ä¾èµ–/çº¦æŸçº¿ | DAGã€çŠ¶æ€æœº |

### C. é€šç”¨è¿‡ç¨‹ç§¯æœ¨ï¼ˆ"ç®—æ³•æ„Ÿ"æ¥æºï¼‰

| ç§¯æœ¨ | ç”¨é€” | ç¤ºä¾‹åœºæ™¯ |
|------|------|---------|
| **StepSequence** | æ­¥éª¤ç‚¹ä¸²/ç¼–å· | ç®—æ³•æ­¥éª¤ã€è¿­ä»£ |
| **StateOverlay** | çŠ¶æ€æ˜¾ç¤º | running/hit/fail/settled |
| **TraceTrail** | è½¨è¿¹ | è·¯å¾„/å‚æ•°æ›´æ–°å†å² |
| **CompareA/B** | å¯¹æ¯”æ¨¡å¼ | ç®—æ³•å¯¹æ¯”ã€ä¼˜åŒ–å‰å |

### D. åœºä¸æ›²é¢ï¼ˆè·¨é¢†åŸŸé«˜çº§èƒ½åŠ›ï¼‰

| ç§¯æœ¨ | ç”¨é€” | ç¤ºä¾‹åœºæ™¯ |
|------|------|---------|
| **ScalarField** | æ ‡é‡åœº | Loss å‡½æ•°ã€åŠ¿èƒ½åœº |
| **VectorField** | å‘é‡åœº | æ¢¯åº¦åœºã€åŠ›åœº |
| **SampleProbe** | é¼ æ ‡é‡‡æ · | äº¤äº’å¼æ¢ç´¢åœº |
| **IsoLine** | 2D ç­‰å€¼çº¿ | ç­‰é«˜çº¿ã€ç­‰åŠ¿çº¿ |
| **IsoSurface** | 3D ç­‰å€¼é¢ | éšå¼æ›²é¢ï¼ˆåç½®ï¼‰|

### Gizmo/Overlay ç»Ÿä¸€æ¥å£

```typescript
interface IGizmo {
  readonly id: string
  readonly type: string

  // ç”Ÿå‘½å‘¨æœŸ
  attach(ctx: ExecutionContext): void
  update(dt: number): void
  dispose(): void

  // å¯è§æ€§ä¸é«˜äº®
  setVisible(visible: boolean): void
  setHighlight(highlight: boolean): void

  // è¯­ä¹‰å±æ€§æ›´æ–°ï¼ˆä¸æš´éœ² Three.jsï¼‰
  updateFromSemantic(entity: SemanticEntity): void
}
```

---

## ğŸ¬ å¤šè§†å›¾ç³»ç»Ÿ

### è§†å›¾ç±»å‹

#### 1. 3D Viewï¼ˆThree.jsï¼‰
- å‡ ä½•ã€ç›¸æœºã€å°„çº¿ã€åœºçš„ 3D è¡¨è¾¾
- æ”¯æŒ OrbitControlsã€æ‹¾å–ã€æ‹–æ‹½
- Gizmos/Overlays æ¸²æŸ“

#### 2. Graph Viewï¼ˆ2D Canvas/SVGï¼‰
- ç®—æ³•ã€ä¾èµ–ã€DAGã€çŠ¶æ€å›¾
- èŠ‚ç‚¹/è¾¹å¸ƒå±€ç®—æ³•ï¼ˆåŠ›å¯¼å‘ã€å±‚æ¬¡ï¼‰
- æ”¯æŒç¼©æ”¾ã€å¹³ç§»ã€é€‰ä¸­

#### 3. Inspector/Plot Viewï¼ˆ2D é¢æ¿ï¼‰
- è¡¨æ ¼ï¼šæ˜¾ç¤ºå®ä½“å±æ€§ã€é˜Ÿåˆ—ã€æ ˆ
- æ›²çº¿ï¼šloss æ›²çº¿ã€èƒ½é‡æ›²çº¿ï¼ˆåç½®ï¼‰
- æ—¥å¿—ï¼šç®—æ³•æ‰§è¡Œæ—¥å¿—

### è”åŠ¨èƒ½åŠ›

```typescript
interface ViewManager {
  // è§†å›¾ç®¡ç†
  registerView(id: string, view: IView): void
  getView(id: string): IView | undefined

  // é€‰ä¸­è”åŠ¨
  setSelection(entityIds: string[]): void
  getSelection(): string[]

  // ç„¦ç‚¹è”åŠ¨
  focusEntity(entityId: string): void

  // é«˜äº®è”åŠ¨
  highlightEntity(entityId: string, highlight: boolean): void
}

interface IView {
  readonly id: string
  readonly type: '3d' | 'graph' | 'inspector' | 'plot'

  // æ¸²æŸ“
  render(): void
  resize(width: number, height: number): void

  // è”åŠ¨å“åº”
  onSelectionChange(entityIds: string[]): void
  onFocusEntity(entityId: string): void
  onHighlightEntity(entityId: string, highlight: boolean): void

  // ç”Ÿå‘½å‘¨æœŸ
  dispose(): void
}
```

---

## â±ï¸ æ—¶é—´çº¿ç³»ç»Ÿ

> æ—¶é—´çº¿æ˜¯å¹³å°ç¬¬äºŒæ ¸å¿ƒèµ„äº§ï¼šç”¨äº"è®²è§£èŠ‚å¥"å’Œ"è¿‡ç¨‹æ¼”ç¤º"

### Timeline Runtime

```typescript
interface TimelineRuntime {
  // æ’­æ”¾æ§åˆ¶
  play(): void
  pause(): void
  stop(): void
  seek(time: number): void
  setSpeed(speed: number): void
  setLoop(loop: boolean): void

  // æ¨¡å¼
  mode: 'continuous' | 'stepped'

  // çŠ¶æ€
  readonly currentTime: number
  readonly duration: number
  readonly isPlaying: boolean

  // æ­¥è¿›æ§åˆ¶ï¼ˆstepped æ¨¡å¼ï¼‰
  nextStep(): void
  prevStep(): void
  gotoStep(index: number): void
  readonly currentStep: number
  readonly totalSteps: number
}
```

### è½¨é“ç±»å‹

#### 1. PropertyTrackï¼ˆå±æ€§è½¨é“ï¼‰
```typescript
interface PropertyTrack {
  type: 'property'
  target: string  // entity id
  property: string  // 'position' | 'rotation' | 'scale' | 'color' | ...
  keyframes: Array<{
    time: number
    value: any
    easing?: 'linear' | 'ease-in' | 'ease-out' | 'ease-in-out'
  }>
}
```

#### 2. EventTrackï¼ˆäº‹ä»¶è½¨é“ï¼‰
```typescript
interface EventTrack {
  type: 'event'
  events: Array<{
    time: number
    action: 'switchView' | 'highlight' | 'showAnnotation' | 'playSound'
    params: any
  }>
}
```

#### 3. StepTrackï¼ˆæ­¥éª¤è½¨é“ï¼‰
```typescript
interface StepTrack {
  type: 'step'
  processId: string  // ç»‘å®šåˆ° process
  steps: Array<{
    index: number
    time: number
    duration: number
  }>
}
```

#### 4. StateTrackï¼ˆçŠ¶æ€è½¨é“ï¼‰
```typescript
interface StateTrack {
  type: 'state'
  processId: string
  states: Array<{
    time: number
    state: 'running' | 'hit' | 'miss' | 'fail' | 'settled'
    trigger?: string  // è§¦å‘çš„äº‹ä»¶
  }>
}
```

### Markers ä¸ Clips

```typescript
interface Marker {
  time: number
  label: string
  description?: string
  relatedEntities?: string[]  // å…³è”çš„å®ä½“
  relatedView?: string  // å…³è”çš„è§†å›¾
}

interface Clip {
  name: string
  startTime: number
  endTime: number
  description?: string
  tracks: Track[]  // ç‰‡æ®µå†…çš„è½¨é“
}
```

### Timeline Editor UI

- Track list + rulerï¼ˆæ—¶é—´æ ‡å°ºï¼‰
- Keyframe æ‹–æ‹½ã€æ•°å€¼ç¼–è¾‘
- Marker æ‹–æ‹½ã€ç¼–è¾‘æ–‡æœ¬
- Step æ§åˆ¶ï¼ˆä¸Šä¸€/ä¸‹ä¸€/è·³è½¬ï¼‰
- ä¿å­˜ï¼šå†™å› DSL.timeline æˆ–å†™ patch

---

## ğŸ“ Lesson DSL v0

### DSL åŸºæœ¬åŸåˆ™

1. **ç¦æ­¢å†™ world position**ï¼šåªèƒ½ä½¿ç”¨è¯­ä¹‰é”šç‚¹
2. **ç®—æ³•è¿‡ç¨‹ä¸æ¼”ç¤ºèŠ‚å¥åˆ†ç¦»**ï¼š`process` å®šä¹‰è¿‡ç¨‹ï¼Œ`timeline` å®šä¹‰å±•ç¤º
3. **æ‰€æœ‰å¯è§†åŒ–æ¥è‡ª gizmo/overlay ç»„åˆ**

### DSL ç»“æ„

```yaml
# lesson.yaml
meta:
  id: "vector-dot-product"
  title: "å‘é‡ç‚¹ç§¯ä¸æŠ•å½±"
  tags: ["geometry", "vector", "projection"]
  level: "beginner"
  order: 1

entities:
  - id: "vectorA"
    type: "arrow"
    anchor: "center"
    direction: [3, 2, 0]
    color: "#0088ff"
    label: "A"

  - id: "vectorB"
    type: "arrow"
    anchor: "center"
    direction: [2, -1, 0]
    color: "#ff8800"
    label: "B"

  - id: "projection"
    type: "arrow"
    anchor: "center"
    direction: "project(vectorA, vectorB)"
    color: "#00ff88"
    label: "proj"

relations:
  - id: "angle"
    type: "measureAngle"
    vectorA: "vectorA"
    vectorB: "vectorB"
    radius: 1.5

  - id: "projectionLine"
    type: "projectionHelper"
    from: "vectorA"
    to: "vectorB"
    style: "dashed"

process:
  type: "interactive"  # æˆ– "bfs" | "gradient_descent" | ...

views:
  - id: "main3d"
    type: "3d"
    camera:
      position: [8, 6, 8]
      lookAt: "center"
    overlays:
      - "angle"
      - "projectionLine"

ui:
  sliders:
    - id: "angleSlider"
      label: "æ—‹è½¬å‘é‡ A"
      min: 0
      max: 360
      default: 45
      target: "vectorA.rotation.z"

timeline:
  duration: 10
  markers:
    - time: 0
      label: "åˆå§‹çŠ¶æ€"
      description: "ä¸¤ä¸ªå‘é‡ A å’Œ B"

    - time: 2
      label: "æµ‹é‡å¤¹è§’"
      relatedEntities: ["angle"]

    - time: 5
      label: "æŠ•å½±è¿‡ç¨‹"
      relatedEntities: ["projection", "projectionLine"]

  tracks:
    - type: "property"
      target: "vectorA"
      property: "rotation.z"
      keyframes:
        - { time: 0, value: 0 }
        - { time: 8, value: 6.28, easing: "ease-in-out" }
```

### Validatorï¼ˆé¢å‘ AI çš„æŠ¥é”™ï¼‰

```typescript
interface ValidationError {
  type: 'error' | 'warning'
  code: string
  message: string
  location: string  // DSL ä¸­çš„ä½ç½®
  suggestion?: string
}

// ç¤ºä¾‹é”™è¯¯
{
  type: 'error',
  code: 'MISSING_REFERENCE',
  message: 'Entity "vectorC" not found',
  location: 'relations[0].vectorA',
  suggestion: 'Available entities: vectorA, vectorB, projection'
}

{
  type: 'error',
  code: 'INVALID_ANCHOR',
  message: 'Unknown anchor function: "intersect"',
  location: 'entities[2].anchor',
  suggestion: 'Did you mean "intersection"? Available: center, camera, intersection, closest_point'
}
```

### Patchï¼ˆAI å¢é‡ä¿®æ”¹ï¼‰

```typescript
interface DSLPatch {
  op: 'add' | 'remove' | 'replace' | 'move'
  path: string  // JSON Pointer
  value?: any
}

// ç¤ºä¾‹ï¼šAI æ·»åŠ ä¸€ä¸ª marker
{
  op: 'add',
  path: '/timeline/markers/-',
  value: {
    time: 3.5,
    label: 'å…³é”®æ—¶åˆ»',
    description: 'æŠ•å½±é•¿åº¦æœ€å¤§'
  }
}

// ç¤ºä¾‹ï¼šAI ä¿®æ”¹å…³é”®å¸§
{
  op: 'replace',
  path: '/timeline/tracks/0/keyframes/1/time',
  value: 10
}
```

---

## ğŸ”„ Process æ¨¡å‹

> Process æ˜¯"äº§ç”ŸçŠ¶æ€åºåˆ—"çš„æœºå™¨ï¼šæ­¥éª¤ã€çŠ¶æ€ã€å¤±è´¥åŸå› ã€å¯å›æ”¾

**å®ç°è¿›åº¦ï¼ˆ2026-02-26ï¼‰**ï¼š
- [x] `IProcess` æ¥å£ï¼ˆinit/step/run/resetã€metricsã€snapshotï¼‰
- [x] `BFSProcess`ï¼ˆvisited/frontier/path + metricsï¼‰
- [x] `StepTrack/StateTrack` å·²æ”¯æŒ `processId` å¹¶åœ¨ç¼–è¯‘é˜¶æ®µç»‘å®š Process
- [x] `GradientDescentProcess`
- [x] `RayIntersectionProcess`
- [x] Process çŠ¶æ€å˜åŒ–è‡ªåŠ¨å†™å…¥ `EventTrack`

### Process æ¥å£

```typescript
interface IProcess {
  readonly id: string
  readonly type: string

  // åˆå§‹åŒ–
  init(config: any): void

  // æ‰§è¡Œ
  step(): ProcessStepResult
  run(): ProcessResult
  reset(): void

  // çŠ¶æ€
  readonly state: 'idle' | 'running' | 'paused' | 'completed' | 'failed'
  readonly currentStep: number
  readonly totalSteps: number

  // å¯è§‚æµ‹é‡
  getMetrics(): Record<string, number>

  // å›æ”¾æ”¯æŒ
  getSnapshot(): ProcessSnapshot
  restoreSnapshot(snapshot: ProcessSnapshot): void
}

interface ProcessStepResult {
  step: number
  state: any  // å½“å‰æ­¥éª¤çš„çŠ¶æ€ï¼ˆä½ç½®/é›†åˆ/è·¯å¾„/å‚æ•°å€¼...ï¼‰
  metrics: Record<string, number>
  events: ProcessEvent[]
}

interface ProcessEvent {
  type: 'hit' | 'miss' | 'expand' | 'settle' | ...
  entityId?: string
  data?: any
}
```

### å†…ç½® Process ç±»å‹

#### 1. BFS Process
```typescript
interface BFSProcess extends IProcess {
  type: 'bfs'
  config: {
    graphId: string
    startNodeId: string
    targetNodeId?: string
  }

  // çŠ¶æ€
  visited: Set<string>
  frontier: string[]
  path: string[]

  // æŒ‡æ ‡
  metrics: {
    visitedCount: number
    frontierSize: number
    depth: number
  }
}
```

#### 2. Gradient Descent Process
```typescript
interface GradientDescentProcess extends IProcess {
  type: 'gradient_descent'
  config: {
    fieldId: string
    startPoint: [number, number]
    learningRate: number
    maxIterations: number
  }

  // çŠ¶æ€
  currentPoint: [number, number]
  trajectory: Array<[number, number]>

  // æŒ‡æ ‡
  metrics: {
    loss: number
    gradientNorm: number
    iteration: number
  }
}
```

---

## ğŸ“¦ ä»£ç ç»“æ„

```
src/
â”œâ”€â”€ app/                          # UI Shell + è·¯ç”± + é¢æ¿
â”‚   â”œâ”€â”€ Shell.ts                  # ä¸»ç•Œé¢å¸ƒå±€
â”‚   â”œâ”€â”€ LessonList.ts             # è¯¾ç¨‹åˆ—è¡¨
â”‚   â”œâ”€â”€ TimelineEditor.ts         # æ—¶é—´è½´ç¼–è¾‘å™¨ UI
â”‚   â””â”€â”€ Inspector.ts              # å±æ€§é¢æ¿
â”‚
â”œâ”€â”€ core/                         # Execution Layer
â”‚   â”œâ”€â”€ renderer/
â”‚   â”‚   â”œâ”€â”€ RendererHost.ts
â”‚   â”‚   â””â”€â”€ RenderLoop.ts
â”‚   â”œâ”€â”€ camera/
â”‚   â”‚   â””â”€â”€ CameraController.ts
â”‚   â”œâ”€â”€ input/
â”‚   â”‚   â”œâ”€â”€ InputManager.ts
â”‚   â”‚   â”œâ”€â”€ Picking.ts
â”‚   â”‚   â””â”€â”€ DragController.ts
â”‚   â”œâ”€â”€ assets/
â”‚   â”‚   â””â”€â”€ AssetManager.ts
â”‚   â”œâ”€â”€ gizmos/                   # ç§¯æœ¨å®ç°
â”‚   â”‚   â”œâ”€â”€ BaseGizmo.ts
â”‚   â”‚   â”œâ”€â”€ entities/             # å®ä½“ç§¯æœ¨
â”‚   â”‚   â”‚   â”œâ”€â”€ Arrow.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ Point.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ Line.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ Label.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ Node.ts
â”‚   â”‚   â”‚   â””â”€â”€ Edge.ts
â”‚   â”‚   â”œâ”€â”€ relations/            # å…³ç³»ç§¯æœ¨
â”‚   â”‚   â”‚   â”œâ”€â”€ MeasureAngle.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ MeasureDistance.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ProjectionHelper.ts
â”‚   â”‚   â”‚   â””â”€â”€ IntersectionMarker.ts
â”‚   â”‚   â”œâ”€â”€ process/              # è¿‡ç¨‹ç§¯æœ¨
â”‚   â”‚   â”‚   â”œâ”€â”€ StepSequence.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ StateOverlay.ts
â”‚   â”‚   â”‚   â””â”€â”€ TraceTrail.ts
â”‚   â”‚   â””â”€â”€ fields/               # åœºç§¯æœ¨
â”‚   â”‚       â”œâ”€â”€ ScalarField.ts
â”‚   â”‚       â”œâ”€â”€ VectorField.ts
â”‚   â”‚       â””â”€â”€ IsoLine.ts
â”‚   â”œâ”€â”€ overlays/
â”‚   â”‚   â””â”€â”€ OverlayStack.ts
â”‚   â””â”€â”€ debug/
â”‚       â””â”€â”€ DebugManager.ts
â”‚
â”œâ”€â”€ semantic/                     # Semantic Layer
â”‚   â”œâ”€â”€ model/
â”‚   â”‚   â”œâ”€â”€ SemanticEntity.ts
â”‚   â”‚   â”œâ”€â”€ SemanticRelation.ts
â”‚   â”‚   â””â”€â”€ SemanticGraph.ts
â”‚   â”œâ”€â”€ anchors/
â”‚   â”‚   â”œâ”€â”€ AnchorResolver.ts
â”‚   â”‚   â””â”€â”€ AnchorFunctions.ts    # center, intersection, closest_point...
â”‚   â”œâ”€â”€ processes/
â”‚   â”‚   â”œâ”€â”€ IProcess.ts
â”‚   â”‚   â”œâ”€â”€ BFSProcess.ts
â”‚   â”‚   â”œâ”€â”€ GradientDescentProcess.ts
â”‚   â”‚   â””â”€â”€ RayIntersectionProcess.ts
â”‚   â”œâ”€â”€ bindings/
â”‚   â”‚   â””â”€â”€ BindingManager.ts     # è¯­ä¹‰å¯¹è±¡ â†’ è§†å›¾å¯¹è±¡
â”‚   â”œâ”€â”€ validator/
â”‚   â”‚   â””â”€â”€ DSLValidator.ts
â”‚   â””â”€â”€ compiler/
â”‚       â”œâ”€â”€ DSLParser.ts
â”‚       â””â”€â”€ DSLCompiler.ts
â”‚
â”œâ”€â”€ timeline/                     # Timeline System
â”‚   â”œâ”€â”€ runtime/
â”‚   â”‚   â”œâ”€â”€ TimelineRuntime.ts
â”‚   â”‚   â”œâ”€â”€ Track.ts
â”‚   â”‚   â”œâ”€â”€ PropertyTrack.ts
â”‚   â”‚   â”œâ”€â”€ EventTrack.ts
â”‚   â”‚   â”œâ”€â”€ StepTrack.ts
â”‚   â”‚   â””â”€â”€ StateTrack.ts
â”‚   â”œâ”€â”€ tracks/
â”‚   â”‚   â””â”€â”€ TrackEvaluator.ts
â”‚   â””â”€â”€ editor/
â”‚       â”œâ”€â”€ TimelineEditorUI.ts
â”‚       â”œâ”€â”€ TrackList.ts
â”‚       â”œâ”€â”€ Ruler.ts
â”‚       â””â”€â”€ KeyframeEditor.ts
â”‚
â”œâ”€â”€ views/                        # Multi-View System
â”‚   â”œâ”€â”€ ViewManager.ts
â”‚   â”œâ”€â”€ View3D.ts                 # Three.js è§†å›¾
â”‚   â”œâ”€â”€ GraphView.ts              # 2D å›¾è§†å›¾
â”‚   â”œâ”€â”€ InspectorView.ts          # è¡¨æ ¼è§†å›¾
â”‚   â””â”€â”€ PlotView.ts               # æ›²çº¿è§†å›¾ï¼ˆåç½®ï¼‰
â”‚
â”œâ”€â”€ dsl/                          # DSL & Authoring
â”‚   â”œâ”€â”€ schema/
â”‚   â”‚   â””â”€â”€ lesson-schema.json
â”‚   â”œâ”€â”€ examples/                 # ç¤ºä¾‹ DSL
â”‚   â”‚   â”œâ”€â”€ vector-dot.yaml
â”‚   â”‚   â”œâ”€â”€ bfs.yaml
â”‚   â”‚   â”œâ”€â”€ gradient-descent.yaml
â”‚   â”‚   â”œâ”€â”€ dag-schedule.yaml
â”‚   â”‚   â””â”€â”€ ray-intersection.yaml
â”‚   â””â”€â”€ patch/
â”‚       â””â”€â”€ PatchApplier.ts
â”‚
â””â”€â”€ lessons/                      # Lesson å†…å®¹ä»“åº“
    â”œâ”€â”€ vector-dot/
    â”‚   â”œâ”€â”€ lesson.yaml           # DSL æ–‡ä»¶
    â”‚   â””â”€â”€ doc.md                # æ–‡æ¡£
    â”œâ”€â”€ bfs/
    â”‚   â”œâ”€â”€ lesson.yaml
    â”‚   â””â”€â”€ doc.md
    â””â”€â”€ ...
```

---

## ğŸ¯ Lesson æ¨¡æ¿ä½“ç³»

### 1. Geometry Templateï¼ˆ3Dï¼‰
- ç‚¹/å‘é‡/æŠ•å½±/ç›¸äº¤/æµ‹é‡ + timeline markers
- ç¤ºä¾‹ï¼šç‚¹ç§¯æŠ•å½±ã€å‰ç§¯ã€å¹³é¢ç›¸äº¤

### 2. Graph Algorithm Templateï¼ˆGraph 2D + Stepï¼‰
- BFS/DFS/Dijkstra/A*ï¼švisited/frontier/path + step track
- ç¤ºä¾‹ï¼šBFSã€æœ€çŸ­è·¯å¾„

### 3. Numeric Iteration Templateï¼ˆField + Trajectoryï¼‰
- æ¢¯åº¦ä¸‹é™/ç‰›é¡¿æ³•ï¼šå‚æ•°ç‚¹ç§»åŠ¨ + loss æ›²çº¿
- ç¤ºä¾‹ï¼šæ¢¯åº¦ä¸‹é™ã€ä¼˜åŒ–ç®—æ³•

### 4. Physics Process Templateï¼ˆVectorField + Trajectoryï¼‰
- å—åŠ›/ç§¯åˆ†ï¼šè½¨è¿¹ + èƒ½é‡/é€Ÿåº¦æ›²çº¿
- ç¤ºä¾‹ï¼šå¼¹ç°§æŒ¯å­ã€è¡Œæ˜Ÿè¿åŠ¨

### 5. System DAG Templateï¼ˆGraph + Timeline Clipsï¼‰
- RenderGraph/ä»»åŠ¡è°ƒåº¦ï¼šä¾èµ–è¾¹ + æ‰§è¡Œç‰‡æ®µ
- ç¤ºä¾‹ï¼šDAG è°ƒåº¦ã€æ¸²æŸ“ç®¡çº¿

---

## ğŸš€ é‡Œç¨‹ç¢‘è®¡åˆ’

### Milestone Aï¼šå¹³å°å£³ + å¤šè§†å›¾ Hostï¼ˆ2 å‘¨ï¼‰

**äº¤ä»˜**ï¼š
- Shellï¼šå·¦ç›®å½• / ä¸­å¤®è§†çª—åŒº / å³ Inspector+Doc / åº•éƒ¨ Timeline Editor åŒº
- ViewHostï¼šå¯æŒ‚ 3D + Graph + Inspectorï¼ˆPlot å¯å…ˆå ä½ï¼‰
- Selection è”åŠ¨ï¼šé€‰ä¸­å®ä½“ â†’ é«˜äº® + å±æ€§é¢æ¿æ˜¾ç¤º

**éªŒæ”¶**ï¼š
- ä¸€ä¸ªæœ€å° demoï¼šNode/Edge å›¾ + 3D ç‚¹ åŒæ—¶å­˜åœ¨ï¼Œç‚¹å‡»è”åŠ¨

---

### Milestone Bï¼šç§¯æœ¨ v0ï¼ˆè·¨é¢†åŸŸæœ€å°é›†åˆï¼‰ï¼ˆ3 å‘¨ï¼‰

**äº¤ä»˜**ï¼š
- Node/Edge/Label/Marker/Badge
- Point/Line/Arrow + MeasureDistance/Angle + ProjectionHelper
- StepSequence + TraceTrail + StateOverlay
- OverlayStackï¼ˆå¼€å…³/å åŠ /é€æ˜åº¦ï¼‰

**éªŒæ”¶**ï¼š
- ç”¨åŒä¸€å¥—ç§¯æœ¨åšå‡º 2 ä¸ª demoï¼š
  1. ç‚¹ç§¯æŠ•å½±ï¼ˆå‡ ä½•ï¼‰
  2. BFSï¼ˆå›¾ç®—æ³•ï¼‰

---

### Milestone Cï¼šTimeline Runtime + Editor v0ï¼ˆ3 å‘¨ï¼‰

**äº¤ä»˜**ï¼š
- TimelineRuntimeï¼ˆplay/seek/speed/loop + steppedï¼‰
- 4 ç§ track runtimeï¼ˆproperty/event/step/stateï¼‰
- Timeline Editorï¼šè½¨é“ã€keyframesã€markersï¼ˆclips å¯å…ˆç®€åŒ–ä¸ºåŒºé—´ï¼‰
- ä¿å­˜å› DSLï¼ˆæˆ–ä¿å­˜ patchï¼‰

**éªŒæ”¶**ï¼š
- BFS å¯é€æ­¥æ’­æ”¾/å›é€€/è·³è½¬ step
- marker è·Ÿéšæ—¶é—´æ˜¾ç¤ºè§£é‡Šæ–‡æœ¬

---

### Milestone Dï¼šDSL v0 + Compiler + Validator + Patchï¼ˆ4 å‘¨ï¼‰

**äº¤ä»˜**ï¼š
- schema + ç¤ºä¾‹åº“ï¼ˆdsl/examplesï¼‰
- validatorï¼ˆå¯è¯»é”™è¯¯ï¼‰
- compilerï¼ˆDSL â†’ semantic graph â†’ bindings/views/timelineï¼‰
- patchï¼ˆå¢é‡ä¿®æ”¹ï¼‰

**éªŒæ”¶**ï¼š
- æ–° lessonï¼šåªæ–°å¢ä¸€ä¸ª DSL æ–‡ä»¶å³å¯è¿è¡Œ
- DSL å†™é”™ï¼šæŠ¥è¯­ä¹‰é”™è¯¯ä¸ä¸­æ–­
- patch å¯æ–°å¢ marker/æ”¹ keyframe

---

### Milestone Eï¼šField + Plotï¼ˆè§£é”æ•°å€¼/ML/ç‰©ç†ï¼‰ï¼ˆ3 å‘¨ï¼‰

**äº¤ä»˜**ï¼š
- ScalarField + SampleProbe
- IsoLineï¼ˆ2D ç­‰å€¼çº¿ï¼‰/ æˆ–ç®€åŒ– heatmap
- PlotViewï¼ˆloss æ›²çº¿ï¼‰æˆ– Inspector è¡¨æ ¼ç‰ˆï¼ˆå…ˆä½æˆæœ¬ï¼‰

**éªŒæ”¶**ï¼š
- æ¢¯åº¦ä¸‹é™ï¼šå‚æ•°ç‚¹ç§»åŠ¨ + loss ä¸‹é™æ›²çº¿

---

## ğŸ“‹ ç¬¬ä¸€æ‰¹è·¨é¢†åŸŸç¤ºä¾‹è¯¾ç¨‹é›†

1. **å‡ ä½•**ï¼šç‚¹ç§¯æŠ•å½±ï¼ˆvector projection + angle + measureï¼‰
2. **å›¾ç®—æ³•**ï¼šBFSï¼ˆfrontier/visited step-by-stepï¼‰
3. **æ•°å€¼**ï¼šæ¢¯åº¦ä¸‹é™ï¼ˆloss field + trajectory + loss curveï¼‰
4. **ç³»ç»Ÿ**ï¼šDAG è°ƒåº¦ï¼ˆä»»åŠ¡ä¾èµ– + timeline clipsï¼‰
5. **å›¾å½¢å­¦**ï¼šRayâ€“Plane/Rayâ€“Triangle æœ€è¿‘å‘½ä¸­ï¼ˆt ä¸äº¤ç‚¹ + stateï¼‰

> è¿™ 5 ä¸ªè·‘é€šï¼Œå¹³å°å°±ä»"å›¾å½¢å­¦ demo"è·ƒè¿ä¸º"é€šç”¨å¯è§†åŒ–å¹³å°"

---

## ğŸ“ å·¥ç¨‹è§„èŒƒ

1. **Lesson åªå…è®¸ DSL**ï¼Œä¸å…è®¸ç›´æ¥å†™ three é€»è¾‘
2. **Gizmo/Overlay å¿…é¡» dispose**ï¼ˆå‡ ä½•/æè´¨/äº‹ä»¶ç›‘å¬éƒ½é‡Šæ”¾ï¼‰
3. **æ‰€æœ‰å¯¹è±¡éƒ½æœ‰ç¨³å®š ID**ï¼ŒSelection ä¸ Binding ä¾èµ– ID
4. **è¯­ä¹‰é”šç‚¹ç»Ÿä¸€è§£æ**ï¼šcamera/center/intersection/closest_pointâ€¦
5. **Timeline åªæ”¹"å±•ç¤º"ï¼ŒProcess åªç®¡"è¿‡ç¨‹"**
6. **æ¯æ–°å¢ä¸€ä¸ªç¤ºä¾‹ï¼Œå…ˆé—®ï¼šç¼ºç§¯æœ¨è¿˜æ˜¯ç¼ºæ¨¡æ¿ï¼Ÿä¼˜å…ˆè¡¥ç§¯æœ¨/æ¨¡æ¿**

---

## ğŸ¯ ç¬¬ä¸€å‘¨ä»»åŠ¡å•

1. æ­ Vite+TS é¡¹ç›®éª¨æ¶ + Shell å¸ƒå±€ï¼ˆå« Timeline åŒºåŸŸå ä½ï¼‰
2. å®ç° ViewHostï¼š3D View + Graph Viewï¼ˆå“ªæ€• Graph å…ˆç”»å‡ ä¸ªèŠ‚ç‚¹ï¼‰
3. å®ç° SemanticEntity/SelectionStoreï¼ˆé€‰ä¸­è”åŠ¨ï¼‰
4. åš Gizmo v0ï¼šPoint/Arrow/Label + MeasureAngle
5. åš StepSequenceï¼ˆèƒ½æ˜¾ç¤º step ç‚¹ä¸²ï¼‰
6. åš TimelineRuntimeï¼ˆplay/pause/step next/prevï¼‰
7. åš Timeline Editor æœ€å°ç‰ˆï¼šmarkers åˆ—è¡¨ + æ—¶é—´æ¡ï¼ˆåç»­å†è½¨é“åŒ–ï¼‰
8. ç¬¬ä¸€ä¸ªç¤ºä¾‹ï¼šç‚¹ç§¯æŠ•å½±ï¼ˆGeometry Templateï¼‰

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv2.0ï¼ˆé€šç”¨å¹³å°ç‰ˆï¼‰
**åˆ›å»ºæ—¥æœŸ**ï¼š2026-02-26
**ç»´æŠ¤è€…**ï¼šå¼€å‘å›¢é˜Ÿ
